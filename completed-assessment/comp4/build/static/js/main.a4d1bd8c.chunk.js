(this.webpackJsonpcomp1=this.webpackJsonpcomp1||[]).push([[0],{11:function(t,e,r){t.exports=r(18)},17:function(t,e,r){},18:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(8),c=r.n(o),u=r(9),s=r(6),i=r.n(s),l=r(10),h=r(1),f=r(2),m=r(4),d=r(3),p=r(5),v=(r(17),function(t){function e(){return Object(h.a)(this,e),Object(m.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){var t=this,e=this.props,r=e.title,n=e.url,o=e.idx;return a.a.createElement("div",{className:"story"},a.a.createElement("h2",null,a.a.createElement("sup",null,"0",o+1,".")," ",r),a.a.createElement("div",{className:"picture"},a.a.createElement("img",{onError:function(){t.img.src="images/fallback.jpg",t.onError=null},src:n,ref:function(e){return t.img=e},alt:r})))}}]),e}(n.Component)),y=function(t){function e(t){var r;return Object(h.a)(this,e),(r=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={error:null,stories:[],currentItemIdx:1,currentLayout:1,totalStories:16,layouts:{1:5,2:5,3:3,4:2}},r}return Object(p.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=function(){var e=Object(l.a)(i.a.mark((function e(r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://sv-reqres.now.sh/api/".concat(r,"/?per_page=").concat(t.state.totalStories));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();["listings"].forEach((function(r){e(r).then((function(e){console.log(e.data);var n=e.data.slice(0);t.shuffle(n),console.log(typeof n),t.setState((function(t){return Object(u.a)({stories:n},r,e.data)}))}))}))}},{key:"shuffle",value:function(t){for(var e,r,n=t.length;0!==n;)r=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[r],t[r]=e;return t}},{key:"handleStoriesNext",value:function(t){t.preventDefault();var e=this.state,r=e.currentLayout,n=e.layouts;r===Object.keys(n).length?this.setState({currentItemIdx:1,currentLayout:1}):this.setState((function(t){return{currentItemIdx:t.currentItemIdx+t.layouts[t.currentLayout],currentLayout:t.currentLayout+1}}))}},{key:"handleStoriesPrev",value:function(t){t.preventDefault(),1===this.state.currentLayout?this.setState((function(t){return{currentItemIdx:t.totalStories-t.layouts[4],currentLayout:4}})):this.setState((function(t){return{currentItemIdx:t.currentItemIdx-t.layouts[t.currentLayout-1],currentLayout:t.currentLayout-1}}))}},{key:"render",value:function(){var t=this.state,e=t.stories,r=t.currentItemIdx,n=t.currentLayout,o=t.layouts,c=r-1;return a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{className:"grid layout".concat(n)},e.filter((function(t,e){return e>=r&&e<r+o[n]})).map((function(t,e){var r=a.a.createElement(v,{key:e,title:t.title,story:t.description,url:t.mediaurl,idx:c});return c+=1,r}))),a.a.createElement("nav",null,a.a.createElement("div",{className:"controls"},a.a.createElement("a",{href:"prev",onClick:this.handleStoriesPrev.bind(this)},"Prev."),a.a.createElement("a",{href:"next",onClick:this.handleStoriesNext.bind(this)},"Next"))))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.a4d1bd8c.chunk.js.map