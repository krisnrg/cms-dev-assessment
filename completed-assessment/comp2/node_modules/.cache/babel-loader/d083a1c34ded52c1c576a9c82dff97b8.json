{"ast":null,"code":"import _defineProperty from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/kristiangonzalez/webdev/comp2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import Story from'./components/Story';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={error:null,isLoaded:false,stories:[],listings:[],events:[],offers:[]};_this.handleUpdate=_this.handleUpdate.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Function to fetch data from API\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(getData){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://sv-reqres.now.sh/api/\".concat(getData));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();// Different urls to fetch\nvar urls=[\"listings\",\"events\",\"offers\"];// Map over them and load them to the state\nurls.forEach(function(url){fetchData(url).then(function(data){_this2.setState(function(state){return _defineProperty({// append all the urls to stories so that all datas shows initially\nstories:[].concat(_toConsumableArray(state.stories),_toConsumableArray(data.data))},url,data.data);});});});}},{key:\"handleUpdate\",value:function handleUpdate(update,e){var buttons=document.querySelectorAll('button');buttons.forEach(function(elem){elem.classList.remove(\"selected\");});console.log(e.target.classList.add(\"selected\"));this.setState(function(state){return{stories:update};});}},{key:\"render\",value:function render(){var _this$state=this.state,stories=_this$state.stories,listings=_this$state.listings,events=_this$state.events,offers=_this$state.offers;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"nav\",{className:\"menu\"},React.createElement(\"button\",{className:\"selected\",onClick:this.handleUpdate.bind(this,[].concat(_toConsumableArray(listings),_toConsumableArray(events),_toConsumableArray(offers)))},\"All\"),React.createElement(\"button\",{onClick:this.handleUpdate.bind(this,listings)},\"Listings\"),React.createElement(\"button\",{onClick:this.handleUpdate.bind(this,events)},\"Events\"),React.createElement(\"button\",{onClick:this.handleUpdate.bind(this,offers)},\"Offers\")),React.createElement(\"div\",{className:\"grid\"},stories.map(function(story,idx){return React.createElement(Story,{key:idx,title:story.title,story:story.description,url:story.mediaurl});})));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/kristiangonzalez/webdev/comp2/src/App.js"],"names":["React","Story","App","props","state","error","isLoaded","stories","listings","events","offers","handleUpdate","bind","fetchData","getData","fetch","response","json","data","urls","forEach","url","then","setState","update","e","buttons","document","querySelectorAll","elem","classList","remove","console","log","target","add","map","story","idx","title","description","mediaurl","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Story from './components/Story';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      stories: [],\n      listings: [],\n      events: [],\n      offers: []\n    };\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n  \n  componentDidMount() {\n    // Function to fetch data from API\n    const fetchData = async (getData) => {\n      let response = await fetch(`https://sv-reqres.now.sh/api/${getData}`);\n      let data = await response.json();\n      return data;\n    }\n    // Different urls to fetch\n    const urls = [ \"listings\", \"events\", \"offers\"]\n    // Map over them and load them to the state\n    urls.forEach((url) => {\n      fetchData(url).then( data => {\n        this.setState((state) => ({\n          // append all the urls to stories so that all datas shows initially\n          stories: [...state.stories, ...data.data],\n          // put them in their own variables individually so we can swap between them\n          [url]: data.data\n        }))\n      })\n    })\n  }\n\n  handleUpdate(update, e){\n    let buttons = document.querySelectorAll('button');\n    buttons.forEach( elem => {\n      elem.classList.remove(\"selected\");\n    })\n    console.log(e.target.classList.add(\"selected\"));\n    this.setState(state => ({\n      stories: update\n    }));\n  }\n\n  render() {\n    const { stories, listings, events, offers } = this.state;\n    return(\n      <div className=\"wrapper\">\n        <nav className=\"menu\">\n          <button className=\"selected\"\n          onClick={this.handleUpdate.bind(this, [...listings, ...events, ...offers])}>All</button>\n          <button onClick={this.handleUpdate.bind(this, listings)}>Listings</button>\n          <button onClick={this.handleUpdate.bind(this, events)}>Events</button>\n          <button onClick={this.handleUpdate.bind(this, offers)}>Offers</button>\n        </nav>\n      <div className=\"grid\">\n        { stories.map((story, idx) => (\n          <Story key={idx} title={story.title} story={story.description} url={story.mediaurl}/>\n        )) }\n      </div>\n    </div>\n    )}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}